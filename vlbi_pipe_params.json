{
    "global":{
        "project_code"      :  "eg078f",
        "cwd"               :  "/Volumes/HD-LXU3/EG078F",
        "vlbipipe_path"     :  "VLBI_pipeline",
        "job_manager"       :  "bash",
        "HPC_project_code"  :  "ASTR1313",
        "default_partition" :  "normal",
        "default_walltime"  :  "10:00:00",
        "default_nodes"     :     2,
        "default_cpus"      :    24,
        "default_mpiprocs"  :    24,
        "default_nodetype"  :  "haswell_reg",
        "email_progress"    :  "jack.f.radcliffe@gmail.com",
        "mpicasapath"       :  "",
        "casapath"          :  "python",
        "singularity"       :  false,
        "AOflag_command"    : ["module load chpc/singularity","singularity exec /mnt/lustre/users/jradcliffe/singularity_ims/kern5-dev.simg aoflagger"],
        "wsclean_command"   : ["/Volumes/HD-LXU3/anaconda2/anaconda2/bin/wsclean"],
        "fitsidi_files"     : ["auto"],
        "fitsidi_path"      :  "/Users/jackradcliffe/Astro/GOODSN_VLBI_EG078/EG078F/raw_UV",
        "refant"            : ["EF","T6","TR","SV","ZC","BD","UR","NT","JB","CM","DA"],
        "fringe_finders"    : ["3C345","2007+777"],
        "phase_calibrators" : ["J1241+602","J1234+619"],
        "targets"           : ["HDFC0155"],
        "do_parang"         :  true
    },
    "prepare_data":{
        "antab_file"        :  "auto",
        "flag_file"         :  "auto",
        "gaincurve":{
            "min_elevation" :   0.0,
            "max_elevation" :  90.0
        },
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    },
    "import_fitsidi":{
        "const_obs_id"      :  true,
        "scan_gap"          :  15.0,
        "remove_idi"        : true,
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    },
    "make_mms":{
        "separationaxis"    :  "auto",
        "numsubms"          :  "auto",
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    },
    "apriori_cal":{
        "correlator"        :  "default",
        "accor_options":{
            "solint"        :  "inf",
            "smooth"        :  true,
            "smoothtime"    : 180.0,
            "interp"        : "linear"
        },
        "do_observatory_flg": false,
        "tsys_options":{
            "interp_flags"  :  true,
            "smooth"        :  true,
            "outlier_SN"    : [2.5,2.0],
            "jump_ident_pc" :  20,
            "interp"        : "linear,linear"
        },
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :   -1,
            "cpus"          :   -1,
            "mpiprocs"      :   -1,
            "nodetype"      :  "default"
        }
    },
    "init_flag":{
        "AO_flag_strategy"  :  "J1234_619.rfis",
        "AO_flag_fields"    : ["J1241+602","J1234+619","HDFC0155"],
        "flag_edge_chans":{
            "run"           :  true,
            "edge_chan_flag":  "5%"
        },
        "autocorrelations"  :  false,
        "quack_data":{
            "run"           :  true,
            "quack_time"    :  {"3C345":30.0,"2007+777":30.0,"*":10.0},
            "quack_mode"    :  "beg"
        },
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :   -1,
            "cpus"          :   -1,
            "mpiprocs"      :   -1,
            "nodetype"      :  "default"
        }
    },
    "fit_autocorrs":{
        "select_calibrators": ["J1241+602","3C345"],
        "interp_bad_solutions": true, 
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :   -1,
            "cpus"          :   -1,
            "mpiprocs"      :   -1,
            "nodetype"      :  "default"
        }
    },
    "sub_band_delay":{
        "select_calibrators": [["default"],["J1241+602"]], 
        "time_range"        : ["",""],
        "sol_interval"      : ["60s","inf"],
        "min_snr"           : [5.0,5.0],
        "fringe_niter"      :  300,
        "modify_sbd":{
            "run"           :  false,
            "spw_passmark"  :  0.5,
            "clip_badtimes" :  0.66
        },       
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :   -1,
            "cpus"          :   -1,
            "mpiprocs"      :   -1,
            "nodetype"      :  "default"
        }
    },
    "bandpass_cal":{
        "same_as_sbd_cal"   :  false,
        "select_calibrators": [["default"],["J1504+1029"]], 
        "time_range"        : ["",""],
        "sol_interval"      :  "inf",
        "min_snr"           :  3.0,
        "hpc_options":{
            "partition"     : "default",
            "walltime"      : "default",
            "nodes"         :  -1,
            "cpus"          :  -1,
            "mpiprocs"      :  -1,
            "nodetype"      : "default"
        }
    },
    "phase_referencing":{        
        "select_calibrators": "default",
        "cal_type"          : [[  "f",   "f",   "f",  "p",   "ap", "ap", "p"]],   
        "sol_interval"      : [["inf", "inf","30s", "inf", "inf" , "inf", "20s"]],
        "combine"           : [[   "spw",   "", "", "",    "spw", "", ""]],
        "interp_flagged"    : [[ false,  false,  false,  false,  false, false,false]],
        "pass_ants"         : [[]],
        "imager"            : "wsclean",
        "fringe_niter"      : 300,
        "min_snr"           : 5.0,
        "imaging_params"    : "auto",
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    },
    "apply_target":{        
        "multi_phase_centre": true,
        "fits_files_path"   : "raw_UV",
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    },
    "reweigh":{        
        "statistical_reweigh":{
            "run": true,
            "timebin": "10s",
            "chanbin": "spw",
            "statalg": "classic",
            "fitspw" : ""
        },
        "weigh_by_ants":{
            "run": true
        },
        "hpc_options":{
            "partition"     :  "default",
            "walltime"      :  "default",
            "nodes"         :    -1,
            "cpus"          :    -1,
            "mpiprocs"      :    -1,
            "nodetype"      :  "default"
        }
    }
}
